{"Q_ID": "1120310013", "S_NAME": "Practice Session", "Q_NAME": "Sorting device", "Q_DESC": "You work for a large company, and your job is to design sorting devices. Devices are built from:\n\nn inputs,\nn outputs,\ngates which have two inputs and send to output the minimum (\"min gates\") or maximum (\"max gates\") of the two numbers given at their input,\nconnecting wires.\nYou are competing in a bid for a Bytelandian Ministry of Information contract to design the smallest possible device (in terms of the number of gates) which sorts any input. Each device will go through a rigorous test process on a number of data sets. However, through some Good Friends in High Places you have managed to acquire some additional information concerning the exact data sets (permutations) your device will be tested on. Make use of this, and of course your superior programming skills, to win the bid!\n\nInput\n\nFirst, two numbers, 2<=n<=20, 1<=k<=1000, the number of inputs and the number of different permutations for which your device will be tested. The next k lines contain permutations of the numbers 1 .. n.\n\nOutput\n\nFirst, output p, the number of gates in your device (0<=p<=106). The next p lines should contain definitions of the gates used, in the form of a pair of integers, xi,yi, and exactly one of the strings \"min\" or \"max\". To be able to use the output of a gate as the input of a subsequent gate, we use the following convention. First of all, the range for inputs xi and yi is as follows: 1 <= xi,yi < n+p. The output of the i-th gate is assumed to be input n+i.\n\nFinally, a sequence of exactly n integers in the range 1..n+p should follow, describing which of the \"inputs\" should be hard-wired to successive outputs of the device.\n\nScoring\n\nIf your program does not produce a sorting machine which works for every input (sorting it in ascending order), it will be deemed incorrect. Otherwise, you will score p penalty points for each test case solved.\n\n", "TESTCASE_1": "3 2\n1 2 3\n1 3 2\n###---###SEPERATOR---###---\n6\n2 3 min\n2 3 max\n5 4 min\n5 4 max\n4 6 min\n4 6 max\n8 9 7", "TESTCASE_2": "0\n###---###SEPERATOR---###---\n0", "TESTCASE_3": "4 2\n1 2 3 4\n1 3 2 2\n###---###SEPERATOR---###---\n12\n1 2 min\n1 2 max\n6 3 min\n6 3 max\n8 4 min\n8 4 max\n5 7 min\n5 7 max\n12 9 min\n12 9 max\n11 13 min\n11 13 max\n15 16 14 10", "TESTCASE_4": "0\n###---###SEPERATOR---###---\n0", "TESTCASE_5": "0 ###---###SEPERATOR---###--- 0"}