#include <stdio.h>
#include<string.h>
int main(void) {
	int t;
	scanf("%d",&t);
	char ch[100006],ch1[100006];
	int l,i,count,mincount,r,g,b,j,k,c1,c2;
	while(t--)
	{
		scanf("%s",ch);
		l=strlen(ch);
		mincount=0;
		r=0;
		g=0;
		b=0;
		for(i=0;i<l;i++)
		{
			if(ch[i]=='r')
			r++;
			else if(ch[i]=='g')
			g++;
			else if(ch[i]=='b')
			b++;
		}
		//r/g/b//b/g
		count=0;
		j=0;
		k=0;
		for(i=0;i<l;i++)
		{
			if(ch[i]=='r')
			{
				count+=(i-j);
				j++;
			}
			else
			{
				ch1[k]=ch[i];
				k++;
			}
		}
		c1=0;
		j=0;
		for(i=0;i<k;i++)
		{
			if(ch1[i]=='g')
			{
				c1+=(i-j);
				j++;
			}
		}
		c2=0;
		j=0;
		for(i=0;i<k;i++)
		{
			if(ch1[i]=='b')
			{
				c2+=(i-j);
				j++;
			}
		}
		if(c1>c2)
		count+=c2;
		else
		count+=c1;
		mincount=count;
		//g/r/b//b/r
		count=0;
		j=0;
		k=0;
		for(i=0;i<l;i++)
		{
			if(ch[i]=='g')
			{
				count+=(i-j);
				j++;
			}
			else
			{
				ch1[k]=ch[i];
				k++;
			}
		}
		c1=0;
		j=0;
		for(i=0;i<k;i++)
		{
			if(ch1[i]=='b')
			{
				c1+=(i-j);
				j++;
			}
		}
		c2=0;
		j=0;
		for(i=0;i<k;i++)
		{
			if(ch1[i]=='r')
			{
				c2+=(i-j);
				j++;
			}
		}
		if(c1>c2)
		count+=c2;
		else
		count+=c1;
		if(count<mincount)
		mincount=count;
		//b/r/g//g/r
		count=0;
		j=0;
		k=0;
		for(i=0;i<l;i++)
		{
			if(ch[i]=='b')
			{
				count+=(i-j);
				j++;
			}
			else
			{
				ch1[k]=ch[i];
				k++;
			}
		}
		c1=0;
		j=0;
		for(i=0;i<k;i++)
		{
			if(ch1[i]=='g')
			{
				c1+=(i-j);
				j++;
			}
		}
		c2=0;
		j=0;
		for(i=0;i<k;i++)
		{
			if(ch1[i]=='r')
			{
				c2+=(i-j);
				j++;
			}
		}
		if(c1>c2)
		count+=c2;
		else
		count+=c1;
		if(count<mincount)
		mincount=count;
		printf("%d\n",mincount);
	}
	return 0;
}
 
